# GraphQL JS

A simple [GraphQL](https://gist.github.com/wincent/598fa75e22bdfa44cf470) parser written in JavaScript.

#### TODO

 * Write some tests
 * Provided better syntax/parsing errors

## Usage

### Parser API

The parser is generated by PEGjs, I'd recommend reading their [docs](http://pegjs.org/documentation#using-the-parser) on parser usage. But it's pretty simple:

```js
var parser = require('graphql');

var query = `
  node(1) {
    id
    name
    birthdate {
      day,
      month,
      year
    },
    friends.first(1) {
      id
      name
    }
  }
`;

var ast = parser.parse(query);
// ast is a plain JS object
```

#### Example output

Going off the above query, the return AST would look like this:

```json
  {
    "call": "node",
    "parameter": "1",
    "root": true,
    "properties": [
      {
        "name": "id"
      },
      {
        "name": "name"
      },
      {
        "name": "birthdate",
        "properties": {
          "properties": [
            {
              "name": "day"
            },
            {
              "name": "month"
            },
            {
              "name": "year"
            }
          ]
        }
      },
      {
        "name": "friends",
        "calls": [
          {
            "call": "first",
            "parameter": "1"
          }
        ],
        "properties": {
          "properties": [
            {
              "name": "id"
            },
            {
              "name": "name"
            }
          ]
        }
      }
    ]
  }
```

### Demo

After cloning, install deps with `npm install`.

You can re-build the parser by running `npm run build`

Or see a demo of its output by running `npm run demo`, this runs the parser over `./examples/friends.gql` and dumps the parsed object to the console.
